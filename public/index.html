<!DOCTYPE html>
<html>
<head>
	<title>Small World Trash Pickup</title>
	<meta name="viewport" content="width=device-width, initial-scale=1" /> 
	<style type="text/css">
	.button {
        background-color: #000000;
        color: #FFFFFF;
        font-size: 16px;
        padding: 10px;
        border-radius: 10px;
        -moz-border-radius: 10px;
        -webkit-border-radius: 10px;
        margin:10px
    }
    
    .btn-sml {
        width: 80px;
        height: 20px;
    }
    
    .btn-med {
        width: 160px;
        height: 40px;
    }
    
    .btn-big {
        width: 320px;
        height: 80px;
    }
	</style>
</head>
<body>
	<h1>Trash Pickup</h1>
	<div>
		<label>Username: </label>
        <input type="text" id="username" value="" />
	</div>
	<div>
		<button id="button-can" name="can" class="button btn-big" onclick="popupConfirm(this.name)">Can</button>
	</div>
	<div>
		<button id="button-pet-bottle" name="pet-bottle" class="button btn-big" onclick="popupConfirm(this.name)">PET Bottle</button>
	</div>
	<div>
		<button id="button-glass-bottle" name="glass-bottle" class="button btn-big" onclick="popupConfirm(this.name)">Glass Bottle</button>
	</div>
	<div>
		<button id="button-cigarette" name="cigarette" class="button btn-big" onclick="popupConfirm(this.name)">Cigarette</button>
	</div>
	<div>
		<button id="button-tobacco-pack" name="tobacco-pack" class="button btn-big" onclick="popupConfirm(this.name)">Tobacco Pack</button>
	</div>
	<div>
		<button id="button-plastic-bag" name="plastic-bag" class="button btn-big" onclick="popupConfirm(this.name)">Plastic Bag</button>
	</div>
	<div>
		<button id="button-paper-bag" name="paper-bag" class="button btn-big" onclick="popupConfirm(this.name)">Paper Bag</button>
	</div>
	<script>
		function popupConfirm(clicked_name)
		{
			var data = {
				trash: clicked_name,
				user: document.getElementById("username").value
			};

			if(data.user == "")
			{
				alert("Please input a username");
				return;
			}

			var url = "https://r0aqmadwh6.execute-api.ap-northeast-1.amazonaws.com/default/swTrashPickup?trash=" + data.trash + "&user=" + data.user;

			fetch(url)
			.then(res => {
				console.log(res);
				if(res.status == 200) {
					alert("Logged!");
				}
			})
			.catch(error => console.log(error))
			
		}
	</script>
</body>
</html>
